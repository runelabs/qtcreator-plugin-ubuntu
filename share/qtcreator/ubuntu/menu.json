{
    "ubuntu.make": {
        "name": "make",
        "id": "Ubuntu.Make",
        "parent": "Build",
        "projectRequired": true,
        "group": "ProjectExplorer.Group.Run",
        "submenu": [
            {
                "name": "check",
                "id": "Ubuntu.Make.Check",
                "projectRequired": true,
                "actions": [
                    "%SCRIPTDIRECTORY%/qtc_project_make check"
                ]
            },
            {
                "name": "autopilot",
                "id": "Ubuntu.Make.Autopilot",
                "projectRequired": true,
                "actions": [
                    "%SCRIPTDIRECTORY%/qtc_project_make autopilot"
                ]
            },
            {
                "name": "install",
                "id": "Ubuntu.Make.Install",
                "projectRequired": true,
                "actions": [
                    "%SCRIPTDIRECTORY%/qtc_project_make install"
                ]
            },
            {
                "name": "uninstall",
                "id": "Ubuntu.Make.Uninstall",
                "projectRequired": true,
                "actions": [
                    "%SCRIPTDIRECTORY%/qtc_project_make uninstall"
                ]
            }
        ]
    },
    "ubuntu": {
        "name": "Ubuntu",
        "id": "Ubuntu.Build",
        "parent": "Build",
        "group": "ProjectExplorer.Group.Run",
        "submenu": [
            {
                "name": "Create manifest files",
                "id": "Ubuntu.Build.CreateManifest",
                "workingDirectory": "%0/..",
                "projectRequired": true,
                "context": ["UbuntuProject.ProjectContext","QmlProject.ProjectContext","CMakeProject.ProjectContext"],
                "actions": [
                    {
                        "metacall": {
                             "method":"createManifestFile",
                             "args":[]
                        }
                    }
                ]
            },
            {
                "name": "Run Application on Device",
                "id": "Ubuntu.Build.Run.Go",
                "workingDirectory": "%0/..",
                "projectRequired": true,
                "keysequence": "Ctrl+F12",
                "deviceRequired": true,
                "saveRequired": true,
                "context" : "GoProject.ProjectContext",
                "actions": [
                    "%SCRIPTDIRECTORY%/qtc_device_run_go_app %SERIALNUMBER% %FOLDERNAME% %USERNAME%@%IP% %PORT% /home/%USERNAME%/dev_tmp \"%GOBUILDTARGETS%\""
                ]
            },
            {
                "name": "Close Application on Device",
                "id": "Ubuntu.Build.CancelRun",
                "keysequence": "Ctrl+Shift+F12",
                "projectRequired": true,
                "deviceRequired": true,
                "qmlProjectRequired": true,
                "context": ["GoProject.ProjectContext"],
                "actions": [
                    "%SCRIPTDIRECTORY%/qtc_device_close_all_apps %SERIALNUMBER% %DISPLAYNAME%"
                ]
            },
            {
                "name": "Create Click package",
                "id": "Ubuntu.Build.CreateClickPackage",
                "workingDirectory": "%0/..",
                "projectRequired": true,
                "context": ["UbuntuProject.ProjectContext","QmlProject.ProjectContext","CMakeProject.ProjectContext"],
                "saveRequired": true,
                "needsClickToolchain" : true,
                "actions": [
                    {
                        "metacall": {
                             "method":"requestBuildProject",
                             "args":[]
                        }
                    }
                ]
            },
            {
                "name": "Install Application on Device",
                "id": "Ubuntu.Build.PackageInstall.Html",
                "workingDirectory": "%0/..",
                "projectRequired": true,
                "context": ["UbuntuProject.ProjectContext","QmlProject.ProjectContext"],
                "saveRequired": true,
                "needsClickToolchain" : true,
                "actions": [
                    {
                        "metacall": {
                             "method":"requestBuildAndInstallProject",
                             "args":[]
                        }
                    }
                ]
            },

            {
                "name": "Install Application on Device",
                "id": "Ubuntu.Build.PackageInstall.CMake",
                "workingDirectory": "%0/..",
                "projectRequired": true,
                "context": ["CMakeProject.ProjectContext"],
                "saveRequired": true,
                "needsClickToolchain" : true,
                "actions": [
                    {
                        "metacall": {
                             "method":"requestBuildAndInstallProject",
                             "args":[]
                        }
                    }
                ]
            },				
            {
                "name": "Install Application on Device",
                "id": "Ubuntu.Build.PackageInstall.Go",
                "workingDirectory": "%0/..",
                "projectRequired": true,
                "deviceRequired": true,
                "context": ["GoProject.ProjectContext"],
                "saveRequired": true,
                "actions": [
                    "%SCRIPTDIRECTORY%/qtc_goproject_click_createanddeploy %SERIALNUMBER% %FOLDERNAME% %USERNAME%@%IP% %PORT% /home/%USERNAME%/dev_tmp %USERNAME% \"%GOBUILDTARGETS%\""
                ]
            },
            {
                "name": "Build Application on Device",
                "id": "Ubuntu.Build.Go",
                "workingDirectory": "%0/..",
                "projectRequired": true,
                "deviceRequired": true,
                "context": ["GoProject.ProjectContext"],
                "saveRequired": true,
                "actions": [
                    "%SCRIPTDIRECTORY%/qtc_device_buildpackage_go %SERIALNUMBER% %FOLDERNAME% %USERNAME%@%IP% %PORT% /home/%USERNAME%/dev_tmp \"%GOBUILDTARGETS%\""
                ]
            },
            {
                "name": "Build Application on Device",
                "id": "Ubuntu.Build.Cpp",
                "workingDirectory": "%0/..",
                "projectRequired": true,
                "deviceRequired": true,
                "context": ["Qt4.Qt4Project","CMakeProject.ProjectContext"],
                "saveRequired": true,
                "actions": [
                    "%SCRIPTDIRECTORY%/qtc_device_buildpackage %SERIALNUMBER% %FOLDERNAME% %USERNAME%@%IP% %PORT% /home/%USERNAME%/dev_tmp"
                ]
            },
            {
                "name": "Build and Install Application on Device",
                "id": "Ubuntu.BuildAndInstall.Cpp",
                "workingDirectory": "%0/..",
                "projectRequired": true,
                "deviceRequired": true,
                "qmakeProjectRequired": true,
                "saveRequired": true,
                "actions": [
                    "%SCRIPTDIRECTORY%/qtc_device_buildanddeploypackage %SERIALNUMBER% %FOLDERNAME% %USERNAME%@%IP% %PORT% /home/%USERNAME%/dev_tmp"
                ]
            },
            {
                "name": "Translations",
                "id": "Ubuntu.Menu.i18n",
                "submenu": [
                    {
                        "name": "Update Translations Template",
                        "id": "Ubuntu.Menu.i18n.pot",
                        "projectRequired": true,
                        "qmlProjectRequired": true,
                        "saveRequired": true,
			"context": ["UbuntuProject.ProjectContext"],
                        "actions": [
                            "%SCRIPTDIRECTORY%/i18n_update_template %DISPLAYNAME% %PROJECTFILES%"
                        ]
                    },
                    {
                        "name": "Build Translations",
                        "id": "Ubuntu.Menu.i18n.mo",
                        "projectRequired": true,
                        "qmlProjectRequired": true,
                        "saveRequired": true,
			"context": ["UbuntuProject.ProjectContext"],
                        "actions": [
                            "msgfmt po/*.po"
                        ]
                    }
                ]
            }
        ]
    },
    "ubuntuhelp": {
        "name": "Ubuntu",
        "id": "Ubuntu.Help",
        "parent": "Help",
        "submenu": [
            {
                "name": "Getting Started",
                "id": "Ubuntu.Help.GettingStarted",
                "submenu": [
                    {
                        "name": "Go Mobile at developer.ubuntu.com",
                        "id": "Ubuntu.Help.GettingStarted.GoMobile",
                        "actions": [
                            "xdg-open http://developer.ubuntu.com/get-started/gomobile"
                        ]
                    },
                    {
                        "name": "App Design Guides at design.ubuntu.com",
                        "id": "Ubuntu.Help.GettingStarted.AppDesignGuides",
                        "actions": [
                            "xdg-open http://design.ubuntu.com/apps"
                        ]
                    }
                ]
            },
            {
                "name": "Launchpad",
                "id": "Ubuntu.Help.Launchpad",
                "submenu": [
                    {
                        "name": "Create an Account",
                        "id": "Ubuntu.Help.Launchpad.CreateAccount",
                        "actions": [
                            "xdg-open https://launchpad.net/+login"
                        ]
                    },
                    {
                        "name": "Register a Project",
                        "id": "Ubuntu.Help.Launchpad.RegisterProject",
                        "actions": [
                            "xdg-open https://launchpad.net/projects/+new"
                        ]
                    },
                    {
                        "name": "User Guide",
                        "id": "Ubuntu.Help.Launchpad.UserGuide",
                        "actions": [
                            "xdg-open https://help.launchpad.net"
                        ]
                    }
                ]
            }
        ]
    },
    "ubuntutools": {
        "name": "Ubuntu",
        "id": "Ubuntu.Menu",
        "parent": "Tools",
        "submenu": [
             {
                "name": "Showcase Gallery",
                "keysequence": "Ctrl+Shift+S",
                "id": "Ubuntu.Menu.Showcase",
                "actions": [
                    "%SCRIPTDIRECTORY%/qtc_launch_gallery"
                ]
            },
            {
                "name": "Take a screenshot",
                "id": "Ubuntu.Menu.Screenshot",
                "keysequence": "Ctrl+Shift+P",
                "deviceRequired": true,
                "actions": [
                    "%SCRIPTDIRECTORY%/device_screenshot %SERIALNUMBER%"
                ]
            },
            {
                "name": "Mount Device Filesystem",
                "id": "Ubuntu.Menu.MountDeviceFileSystem",
                "keysequence": "Ctrl+Shift+F1",
                "deviceRequired": true,
                "actions": [
                    "nautilus ssh://%USERNAME%@%IP%:%PORT%"
                ]
            },
            {
                "name": "GPG",
                "id": "Ubuntu.Menu.gpg",
                "submenu": [
                    { 
                        "name": "Passwords && Keys",
                        "id": "Ubuntu.Menu.gpg.seahorse",
                        "actions": [
                            "seahorse"
                        ]
                    }
                ]
            },
            {
                "name": "Device Control",
                "id": "Ubuntu.Menu.Device",
                "submenu": [
                    {
                        "name": "SSH to Device",
                        "id": "Ubuntu.Menu.Device.SSH",
                        "keysequence": "Ctrl+F10",
                        "deviceRequired": true,
                        "actions": [
                            "x-terminal-emulator -e \"ssh -i ~/.ssh/ubuntudevice_%SERIALNUMBER%_id_rsa -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null %USERNAME%@%IP% -p%PORT%\""
                        ]
                    },
                    {
                        "name": "Close All Applications on Device",
                        "id": "Ubuntu.Menu.Device.CloseAllApps",
                        "deviceRequired": true,
                        "actions": [
                            "%SCRIPTDIRECTORY%/qtc_device_close_all_apps %SERIALNUMBER%"
                        ]
                    },
                    {
                        "name": "Flash daily image on device",
                        "id": "Ubuntu.Menu.Device.FlashDaily",
                        "deviceRequired": true,
                        "actions": [
                            "%SCRIPTDIRECTORY%/device_flashdaily %SERIALNUMBER%"
                        ]
                    },
                    {
                        "name": "Flash daily image on device (with bootstrap)",
                        "id": "Ubuntu.Menu.Device.FlashDailyBootstrap",
                        "deviceRequired": true,
                        "actions": [
                            "%SCRIPTDIRECTORY%/device_flashdaily_bootstrap %SERIALNUMBER%"
                        ]
                    }
                ]
            },
            {
                "name": "Device Package Management",
                "id": "Ubuntu.Menu.Device.AptGet",
                "submenu": [
                    {
                        "name": "Install Package",
                        "id": "Ubuntu.Menu.Device.AptGet.Install",
                        "deviceRequired": true,
                        "actions": [
                            {
                                "queryDialog": {
                                    "title": "Install Package",
                                    "message": "Package Name:",
                                    "value": "<packagename>"
                                }
                            },
                            "adb -s %SERIALNUMBER% root",
                            "adb -s %SERIALNUMBER% wait-for-device",
                            "adb -s %SERIALNUMBER% shell apt-get -y install %0"
                        ]
                    },
                    {
                        "name": "Install Package Build Dependencies",
                        "id": "Ubuntu.Menu.Device.AptGet.BuildDep",
                        "deviceRequired": true,
                        "actions": [
                            "adb -s %SERIALNUMBER% root",
                            "adb -s %SERIALNUMBER% wait-for-device",
                            {
                                "queryDialog": {
                                    "title": "Install Package Build Dependencies",
                                    "message": "Package Name:",
                                    "value": "<packagename>"
                                }
                            },
                            "adb -s %SERIALNUMBER% shell apt-get -y build-dep %0"
                        ]
                    }
                ]
            },            
            {
                "name": "Android Debugging",
                "id": "Ubuntu.Menu.Device.ADB",
                "submenu": [
                    {
                        "name": "adb shell",
                        "id": "Ubuntu.Menu.Device.ADB.shell",
                        "deviceRequired": true,
                        "actions": [
                            "x-terminal-emulator -e \"adb -s %SERIALNUMBER% shell\""
                        ]
                    },
                    {
                        "name": "adb root",
                        "id": "Ubuntu.Menu.Device.ADB.root",
                        "deviceRequired": true,
                        "actions": [
                            "adb -s %SERIALNUMBER% root"
                        ]
                    },
                    {
                        "name": "adb devices",
                        "id": "Ubuntu.Menu.Device.ADB.devices",
                        "actions": [
                            "adb devices"
                        ]
                    },
                    {
                        "name": "adb shell setprop persist.sys.usb.config ptp,adb",
                        "id": "Ubuntu.Menu.Device.ADB.setUsbConfigPtpAdb",
                        "deviceRequired": true,
                        "actions": [
                            "%SCRIPTDIRECTORY%/device_set_persist-sys-usb-config %SERIALNUMBER%"
                        ]
                    }
                ]
            }
        ]
    }
}
